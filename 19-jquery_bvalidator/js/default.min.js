bValidator.DefaultPresenter=function(h){"use strict";var n=function(t,i){function o(){}o.prototype=n.fn,this.fn=new o,(this.fn.instance=this).fn.$input=t,this.fn.validatorInstance=i,this.fn.$tooltipContainer=null,this.fn.themeOptions=null,this.fn.chkboxOrRadio=null};return n.prototype={showInvalid:function(t){this.fn.showInvalid(t)},showValid:function(){this.fn.showValid()},removeAll:function(){this.fn.removeAll()},setOptions:function(t){this.fn.setOptions(t)},isInvalidOn:function(){return this.fn.isInvalidOn()}},n.fn={createTooltip:function(t){var i,o=h('<div class="bvalidator-message-container"></div>').css({position:"absolute",visibility:"hidden"}),n="",e=this.instance;o.insertAfter(this.$input);for(var s=0;s<t.length;s++)n+="<div>"+t[s]+"</div>\n";(i=this.themeOptions.showClose?h(this.themeOptions.templateClose.replace("{message}",n)):h(this.themeOptions.template.replace("{message}",n))).appendTo(o),i.find(this.themeOptions.closeIconSelector).click(function(t){t.preventDefault(),e.fn.removeInvalid(!0)});var l=this.getTooltipPosition(i,o);return i.css({top:l.top,left:l.left}),{$tooltipContainer:o,$tooltip:i}},getTooltipPosition:function(t,i){var o=this.themeOptions.offset.split(","),n=-(i.offset().top-this.$input.offset().top+t.outerHeight()-parseInt(o[1],10)),e=this.$input.offset().left+this.$input.outerWidth()-i.offset().left+parseInt(o[0],10),s=this.themeOptions.position.split(","),l=s[0],h=s[1];if("center"==h||"bottom"==h){var a=t.outerHeight()+this.$input.outerHeight();"center"==h&&(n+=a/2),"bottom"==h&&(n+=a)}if("center"==l||"left"==l){var r=this.$input.outerWidth();"center"==l&&(e-=r/2),"left"==l&&(e-=r)}return{top:n,left:e}},showInvalid:function(t){this.$tooltipContainer&&this.removeInvalid(!0);var i=this.createTooltip(t);i.$tooltip.css({display:"none"}),i.$tooltipContainer.css({visibility:"visible"}),i.$tooltip.fadeIn(this.themeOptions.msgShowSpeed),this.validatorInstance&&this.validatorInstance.setScrollTo(i.$tooltip.offset().top),this.$tooltipContainer=i.$tooltipContainer,!this.chkboxOrRadio&&this.themeOptions.invalidClass&&this.$input.addClass(this.themeOptions.invalidClass)},showValid:function(){this.$tooltipContainer&&this.removeInvalid(),!this.chkboxOrRadio&&this.themeOptions.validClass&&this.$input.addClass(this.themeOptions.validClass)},removeInvalid:function(t){null!==this.$tooltipContainer&&(this.$tooltipContainer.remove(),this.$tooltipContainer=null),!t&&this.themeOptions&&this.themeOptions.invalidClass&&this.$input.removeClass(this.themeOptions.invalidClass)},removeValid:function(){!this.chkboxOrRadio&&this.themeOptions&&this.themeOptions.invalidClass&&this.$input.removeClass(this.themeOptions.validClass)},removeAll:function(){this.removeValid(),this.removeInvalid()},setOptions:function(t){this.themeOptions=t,"checkbox"==this.$input[0].type||"radio"==this.$input[0].type?this.chkboxOrRadio=!0:this.chkboxOrRadio=!1},isInvalidOn:function(){return null!==this.$tooltipContainer}},n}(jQuery);